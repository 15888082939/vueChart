webpackJsonp([1],{"3Q4B":function(t,e,n){t.exports=n.p+"static/img/user1.ccb220c.jpg"},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({},s,!1,function(t){n("kE23")},null,null).exports,a=n("/ocq"),r={name:"HelloWorld",data:function(){return{msg:"Welcome to room",blogList:[],textMes:"",list:[],nickName:"",showLogin:!0}},methods:{getlist:function(){this.$store.dispatch("getApplist").then(function(t){console.log(t)})},sendMessageToServer:function(){var t=new Date,e={name:this.nickName,msg:this.textMes,time:t.getHours()+":"+t.getMinutes()};this.$socket.emit("chat",e)},enterRoom:function(){this.nickName?this.showLogin=!1:alert("请输入昵称")}},created:function(){var t=this;this.getlist(),this.$options.sockets.res=function(e){console.log("组件监听",e);var n={name:e.name,msg:e.msg,time:e.time};t.$data.list.push(n)}},watch:{list:function(){console.log("jian");var t=document.getElementById("rooWrap");this.$nextTick(function(){console.log("gun"),t.scrollTop=t.scrollHeight})}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg)+" ("+t._s(t.nickName)+")")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showLogin,expression:"showLogin"}],staticClass:"login"},[o("p",[t._v("输入你的昵称")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.nickName,expression:"nickName"}],attrs:{type:"text"},domProps:{value:t.nickName},on:{input:function(e){e.target.composing||(t.nickName=e.target.value)}}}),o("button",{on:{click:t.enterRoom}},[t._v("进入聊天")])]),t._v(" "),o("div",{attrs:{id:"rooWrap"}},[o("ul",t._l(t.list,function(e,s){return o("li",[o("img",{attrs:{src:n("3Q4B"),alt:""}}),t._v(" "),o("p",[t._v(t._s(e.name)+" "),o("span",[t._v(t._s(e.time))])]),t._v(" "),o("div",{staticClass:"message"},[t._v(t._s(e.msg))])])}))]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.textMes,expression:"textMes"}],attrs:{type:"text"},domProps:{value:t.textMes},on:{input:function(e){e.target.composing||(t.textMes=e.target.value)}}}),t._v(" "),o("button",{on:{click:t.sendMessageToServer}},[t._v("发送")])])},staticRenderFns:[]};var l=n("VU/8")(r,c,!1,function(t){n("so3R")},"data-v-536ca34a",null).exports;o.a.use(a.a);var u=new a.a({routes:[{path:"/",name:"HelloWorld",component:l}]}),m=n("NYxO"),p={},v={},d=n("//Fk"),g=n.n(d),f=n("mtWM"),h=n.n(f).a.create({baseURL:Object({NODE_ENV:"production"}).BASE_API,timeout:1e4,"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"X-Requested-With,Content-Type","Access-Control-Allow-Methods":"PUT,POST,GET,DELETE,OPTIONS"});h.interceptors.request.use(function(t){return t},function(t){return g.a.reject(t)}),h.interceptors.response.use(function(t){return g.a.resolve(t.data)},function(t){return g.a.reject(t)});var _=h;var w={getApplist:function(t){t.commit;return new g.a(function(t,e){_({url:"/list",method:"post"}).then(function(e){t(e.data)},function(t){e(t)}).catch(function(t){e(t)})})}};o.a.use(m.a);var k=new m.a.Store({state:p,mutations:v,actions:w}),N=n("hMcO"),x=n.n(N);o.a.use(x.a,"http://127.0.0.1:7001/"),o.a.config.productionTip=!1,new o.a({el:"#app",router:u,store:k,components:{App:i},template:"<App/>",sockets:{connect:function(){console.log("socket connected")},res:function(t){console.log("接收到服务端消息",t)}}})},kE23:function(t,e){},so3R:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2be2775fe1d7be0fc3de.js.map